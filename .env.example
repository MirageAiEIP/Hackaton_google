# ============================================
# SAMU AI Triage - Environment Configuration
# ============================================

# Application
NODE_ENV=development  # development | staging | production
PORT=8000
LOG_LEVEL=info

# ============================================
# CORS Configuration
# ============================================
# Development: Automatically allows localhost on common ports (3000, 5173, 8000, etc.)
# Staging/Production: Comma-separated list of allowed origins (REQUIRED)
# Example: ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://admin.yourdomain.com
ALLOWED_ORIGINS=

# ============================================
# Google Cloud Platform Configuration
# ============================================

# Project ID (get from GCP Console)
GCP_PROJECT_ID=your-project-id

# Service Account credentials file path (relative to project root)
GOOGLE_APPLICATION_CREDENTIALS=./config/your-service-account.json

# GCS bucket name for audio file storage
GCS_BUCKET_NAME=your-bucket-name

# ============================================
# Secret Manager Configuration
# ============================================

# Use Google Secret Manager for sensitive credentials
# Set to 'true' to fetch secrets from Google Secret Manager (RECOMMENDED)
# Set to 'false' only for local development without GCP access
USE_SECRET_MANAGER=true

# ============================================
# IMPORTANT: All sensitive credentials are stored in Google Secret Manager
# ============================================
#
# The following secrets are managed in Secret Manager with dev/prod prefixes:
# - dev-openai-api-key / prod-openai-api-key               (Whisper API)
# - dev-google-api-key / prod-google-api-key               (Gemini API)
# - dev-jwt-access-secret / prod-jwt-access-secret         (Access token signing)
# - dev-jwt-refresh-secret / prod-jwt-refresh-secret       (Refresh token signing)
# - dev-encryption-key / prod-encryption-key               (Data encryption)
# - dev-database-url / prod-database-url                   (PostgreSQL)
#
# Environment selection is automatic based on NODE_ENV:
# - NODE_ENV=development → uses dev-* secrets
# - NODE_ENV=production → uses prod-* secrets
#
# To test secrets: npm run secrets:test
# To view secrets: https://console.cloud.google.com/security/secret-manager
# Documentation: See SECRETS_ARCHITECTURE.md
#
# ============================================

# ============================================
# Twilio Configuration
# ============================================
# Get these from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1xxxxxxxxxx

# ============================================
# JWT Authentication
# ============================================
# Access token expiration (e.g., 15m, 1h)
JWT_ACCESS_TOKEN_EXPIRY=15m

# Refresh token expiration (e.g., 7d, 30d)
JWT_REFRESH_TOKEN_EXPIRY=7d

# Cookie configuration
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false  # Set to true in production (HTTPS required)

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Monitoring (Optional)
# ============================================
SENTRY_DSN=
OPENTELEMETRY_ENDPOINT=
